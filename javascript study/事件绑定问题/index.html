<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>事件绑定问题</title>
		<script>
			//多个onload会覆盖
			if(typeof window.onload == 'function'){
				var ref = null;
				ref = window.onload;
			}
			window.onload = function(){
				if(ref)
					ref();
			}
			
			
			//事件切换
			
			
			//解决：覆盖问题和this指向问题
			//添加事件
			function addEvent(obj ,evt, fn){
				var ref = null;
				if(typeof obj['on'+ evt] == function){
					ref = obj['on'+ evt]; 
				}
				obj['on'+ evt] = function(){
					if(ref)
						ref();
					fn.call(this);
				}
			}
			
			//移除事件
			function removeEvent(obj,evt,fn){
				if(obj['on'+ evt])
					obj['on'+ evt] = null;
			}
			
			//添加之前应移除事件
		</script>
	</head>
	<body>
		
	</body>
</html>
