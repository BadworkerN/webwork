<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>动态加载CSS和style</title>
		
		<link type="text/css" href="css/test.css" /> <!--固定加载方式-->
		<style>  /*固定加载style样式*/
			#div {
				color: red;
			}
		</style>
		<script>
			//动态加载CSS
			function loadCss(url){
				var link = document.createElement('link');
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = url;
				document.getElementsByName('head')[0].appendChild(link);
			}
			
			//动态执行style样式 
			var flag = true;
			if(flag){
				var style = document.createElement('style');
				style.type = "text/css";
				//ie8以下不支持
				var text = document.createTextNode("#div{color:red;}");
				style.appendChild(text);
				
				//兼容写法
				addRule(style, '#div', 'color:red;', 0);
				
				document.getElementsByName('head')[0].appendChild(style);
			}
			
			function addRule(sheet, selectorName, style, index){
				if(sheet.insertRule){
					sheet.insertRule(selectorName+'{'+'style'+'}', index);
				}else{
					sheet.addRule(selectorName, style, index);
				}
			}			
		</script>
	</head>
	<body>
		
	</body>
</html>
